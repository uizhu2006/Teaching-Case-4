<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UX/UI è®¾è®¡è¿˜åŸåº¦æ™ºèƒ½èµ°æŸ¥è®¡åˆ†å™¨ V4.1 (æœ€ç»ˆä¿®æ­£ç‰ˆ)</title>
    
    <!-- å¼•å…¥ React å’Œ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- å¼•å…¥ Babel ç”¨äºè§£æ JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- è‡ªå®šä¹‰æ ·å¼ -->
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
        .inner-shadow { box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06); }
        /* æ‰“å°æ ·å¼ä¼˜åŒ– */
        @media print {
            .no-print { display: none !important; }
            body { background: white; }
            .print-break-inside { break-inside: avoid; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // ---------------- Icon Components (SVG) ----------------
        const IconBase = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Clipboard = (props) => <IconBase {...props}><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/></IconBase>;
        const RefreshCw = (props) => <IconBase {...props}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></IconBase>;
        const ChevronDown = (props) => <IconBase {...props}><path d="m6 9 6 6 6-6"/></IconBase>;
        const ChevronUp = (props) => <IconBase {...props}><path d="m18 15-6-6-6 6"/></IconBase>;
        const AlertCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></IconBase>;
        const CheckCircle = (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></IconBase>;
        const XCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></IconBase>;
        const Award = (props) => <IconBase {...props}><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></IconBase>;
        const Palette = (props) => <IconBase {...props}><circle cx="13.5" cy="6.5" r=".5"/><circle cx="17.5" cy="10.5" r=".5"/><circle cx="8.5" cy="7.5" r=".5"/><circle cx="6.5" cy="12.5" r=".5"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/></IconBase>;
        const Fingerprint = (props) => <IconBase {...props}><path d="M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 6"/><path d="M5 15.1a2 2 0 0 0 2.2 2.2"/><path d="M16.5 19.8a2 2 0 0 0 2.2-2.2"/><path d="M19.4 15a2 2 0 0 0 .9-3.2"/><path d="M8.8 19.8a3 3 0 0 1-5.6-3.4"/><path d="M2.2 11.1c.6-3 3.3-5.2 6.4-5.1"/><path d="M15.4 5.9c3.1.2 5.7 2.3 6.3 5.3"/><path d="M6 11c.8-1.3 2.2-2 3.8-2 .9 0 1.8.3 2.5.8l.2.2"/><path d="M18 11c-.8-1.3-2.2-2-3.8-2-.9 0-1.8.3-2.5.8l-.2.2"/><path d="M12 20v-8"/></IconBase>;
        const Layers = (props) => <IconBase {...props}><path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"/><path d="m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65"/><path d="m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"/></IconBase>;
        const Smartphone = (props) => <IconBase {...props}><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></IconBase>;
        const MousePointer = (props) => <IconBase {...props}><path d="m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/><path d="m13 13 6 6"/></IconBase>;
        const Eye = (props) => <IconBase {...props}><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></IconBase>;
        const FileJson = (props) => <IconBase {...props}><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1"/></IconBase>;
        const Type = (props) => <IconBase {...props}><polyline points="4 7 4 4 20 4 20 7"/><line x1="9" x2="15" y1="20" y2="20"/><line x1="12" x2="12" y1="4" y2="20"/></IconBase>;
        const AlertTriangle = (props) => <IconBase {...props}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" x2="12" y1="9" y2="13"/><line x1="12" x2="12.01" y1="17" y2="17"/></IconBase>;
        const Zap = (props) => <IconBase {...props}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></IconBase>;
        const Download = (props) => <IconBase {...props}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></IconBase>;
        const User = (props) => <IconBase {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></IconBase>;
        const Briefcase = (props) => <IconBase {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></IconBase>;

        // ---------------- Main Component ----------------
        const WalkthroughTool = () => {
            
            // ---------------- Project Info State ----------------
            const [projectInfo, setProjectInfo] = useState({
                name: '',
                reviewer: ''
            });

            // ---------------- Data Structure (Total 100 Points) ----------------
            const checklistData = [
                // ================= UI è§†è§‰è¿˜åŸ (50åˆ†) =================
                {
                    section: 'UI',
                    id: 'ui_base',
                    title: 'ğŸ¨ UI - è§†è§‰è§„èŒƒä¸åŸºç¡€ (10åˆ†)',
                    description: 'å“ç‰Œè‰²ã€å›¾æ ‡ç²¾åº¦ä¸è®¾è®¡ç³»ç»Ÿ',
                    items: [
                        { id: 'u1', text: 'å“ç‰Œè‰²ä¸è¾…åŠ©è‰²', weight: 3, suggestion: 'æ ¸å¯¹ Hex å€¼ã€‚æ³¨æ„æ·±è‰²æ¨¡å¼ä¸‹ï¼Œä¸»è‰²æ˜¯å¦éœ€è¦é™é¥±å’Œåº¦ä»¥é¿å…åˆºçœ¼ã€‚ä¸¥ç¦ä½¿ç”¨è®¾è®¡ç³»ç»Ÿå¤–çš„â€œé‡é¢œè‰²â€ã€‚' },
                        { id: 'u2', text: 'å›¾æ ‡ (Icons) ç²¾åº¦', weight: 3, suggestion: 'å¿…é¡» SVGã€‚æ£€æŸ¥ 2x/3x å±æ˜¯å¦æœ‰é”¯é½¿ã€‚å›¾æ ‡è§†è§‰é‡å¿ƒéœ€å±…ä¸­ï¼Œè€Œéä»…ä»…ç‰©ç†å±…ä¸­ã€‚' },
                        { id: 'u3', text: 'æŠ•å½±ä¸åœ†è§’ä¸€è‡´æ€§', weight: 2, suggestion: 'å…¨ç«™å¡ç‰‡æŠ•å½±ï¼ˆShadowï¼‰å‚æ•°æ˜¯å¦ç»Ÿä¸€ï¼Ÿåœ†è§’ï¼ˆRadiusï¼‰æ˜¯å¦éµå¾ª 4px/8px/12px ç­‰å€æ•°è§„å¾‹ï¼Ÿ' },
                        { id: 'u4', text: '1px çº¿æ¡å¤„ç†', weight: 2, suggestion: 'åœ¨ Retina å±ä¸Šï¼Œåˆ†å‰²çº¿åº”ä¸º 0.5px (ç‰©ç† 1px)ã€‚æ£€æŸ¥æ˜¯å¦å‡ºç° 1.5px æˆ– 2px çš„ç²—çº¿æ¡æ¸²æŸ“é”™è¯¯ã€‚' },
                    ]
                },
                {
                    id: 'ui_layout',
                    title: 'ğŸ“ UI - å¸ƒå±€ä¸é€‚é… (10åˆ†)',
                    description: 'æ …æ ¼ã€é—´è·ä¸å¤šç«¯é€‚é…',
                    items: [
                        { id: 'u5', text: '4px/8px æ …æ ¼é—´è·', weight: 3, suggestion: 'æµ‹é‡æ¨¡å—é—´è· (Margin) å’Œå†…è¾¹è· (Padding) æ˜¯å¦ä¸º 4 æˆ– 8 çš„å€æ•°ã€‚æ‹’ç»å¥‡æ•°é—´è·ï¼ˆå¦‚ 13pxï¼‰ã€‚' },
                        { id: 'u6', text: 'å¤šå°ºå¯¸å±å¹•é€‚é…', weight: 2, suggestion: 'åœ¨ iPhone SE (å°å±) å’Œ Max (å¤§å±) ä¸ŠæŸ¥çœ‹ã€‚å†…å®¹æ˜¯æ‹‰ä¼¸ã€å±…ä¸­è¿˜æ˜¯æŠ˜è¡Œï¼Ÿç¡®ä¿æ— é‡å ã€‚' },
                        { id: 'u7', text: 'åˆ˜æµ·ä¸å®‰å…¨åŒºåŸŸ', weight: 3, suggestion: 'å†…å®¹éœ€é¿å¼€åˆ˜æµ·ã€çµåŠ¨å²›ã€‚åº•éƒ¨æŒ‰é’®éœ€é¿å¼€ Home Indicator (å°é»‘æ¡)ï¼Œé€šå¸¸éœ€åŠ  34px åº•éƒ¨ Paddingã€‚' },
                        { id: 'u8', text: 'å±‚çº§å…³ç³» (Z-Index)', weight: 2, suggestion: 'Toast > å¼¹çª— > é®ç½© > æ‚¬æµ®çƒ > å¯¼èˆªæ  > å†…å®¹ã€‚ç¡®ä¿é®ç½©å±‚æ²¡æœ‰é”™è¯¯åœ°ç›–ä½å¯¼èˆªæ æˆ–è¢«å†…å®¹ç©¿é€ã€‚' },
                    ]
                },
                {
                    id: 'ui_text',
                    title: 'ğŸ“ UI - æ–‡æœ¬ä¸å†…å®¹ç»†èŠ‚ (10åˆ†)',
                    description: 'æ’ç‰ˆã€é»˜è®¤å€¼ä¸ç‰¹æ®Šå­—ç¬¦',
                    items: [
                        { id: 'u9', text: 'å­—ä½“æ¸²æŸ“ä¸è¡Œé«˜', weight: 3, suggestion: 'iOS/Android/Windows å­—ä½“æ¸²æŸ“ä¸åŒï¼Œéœ€æ£€æŸ¥è¡Œé«˜æ˜¯å¦æ‹¥æŒ¤ã€‚æ•°å­—/é‡‘é¢å¿…é¡»ç”¨ç­‰å®½å­—ä½“ (Tabular nums)ã€‚' },
                        { id: 'u10', text: 'é»˜è®¤å›¾ä¸å ä½ç¬¦', weight: 2, suggestion: 'å¤´åƒåŠ è½½å¤±è´¥æ˜¾ç¤ºé»˜è®¤å¤´åƒï¼›å›¾ç‰‡åŠ è½½å¤±è´¥æ˜¾ç¤ºå ä½å›¾ã€‚æ‰€æœ‰æ–‡æœ¬ä½éœ€è€ƒè™‘â€œæœ€å¤§å­—ç¬¦æ•°â€æ˜¾ç¤ºæ•ˆæœã€‚' },
                        { id: 'u11', text: 'æ ‡ç‚¹ä¸â€œå­¤å„¿è¯â€', weight: 3, suggestion: 'æ£€æŸ¥è¡Œæœ«æ ‡ç‚¹æ˜¯å¦è¢«æŒ¤å‹ã€‚å°½é‡é¿å…æ®µè½æœ€åä¸€è¡Œåªæœ‰ä¸€ä¸ªå•å­—ï¼ˆå­¤å„¿è¯ï¼‰ï¼Œé€šè¿‡ CSS æ§åˆ¶æ¢è¡Œã€‚' },
                        { id: 'u12', text: 'å†…å®¹çœŸå®æ€§æµ‹è¯•', weight: 2, suggestion: 'ä¸è¦åªæµ‹ "Name"ï¼Œè¦æµ‹ "Christopher"ã€‚é‡‘é¢æµ‹ 0.00 å’Œ 99,999,999.00ã€‚ç¡®ä¿å¸ƒå±€ä¸å´©ã€‚' },
                    ]
                },
                {
                    id: 'ui_polish',
                    title: 'âœ¨ UI - è´¨æ„Ÿä¸åŠ¨æ•ˆ (10åˆ†)',
                    description: 'æš—é»‘æ¨¡å¼ã€è¿‡æ¸¡ä¸å¾®äº¤äº’',
                    items: [
                        { id: 'u13', text: 'æš—é»‘æ¨¡å¼ (Dark Mode)', weight: 4, suggestion: 'æ–‡å­—å¯¹æ¯”åº¦è‡³å°‘ 4.5:1ã€‚èƒŒæ™¯åº”åˆ†å±‚çº§ï¼ˆçº¯é»‘/æ·±ç°ï¼‰ã€‚å›¾ç‰‡/Banner åœ¨æ·±è‰²æ¨¡å¼ä¸‹é€šå¸¸éœ€å åŠ  10%-20% é»‘è‰²è’™å±‚ã€‚' },
                        { id: 'u14', text: 'åŠ¨æ•ˆæ—¶é•¿ä¸æ›²çº¿', weight: 3, suggestion: 'é¡µé¢è½¬åœº 300msï¼Œå¾®äº¤äº’ 200msã€‚å¿…é¡»ä½¿ç”¨ Ease-out æˆ– Spring æ›²çº¿ï¼Œæ‹’ç»çº¿æ€§åŒ€é€Ÿè¿åŠ¨ã€‚' },
                        { id: 'u15', text: 'æŒ‰å‹æ€ (Active State)', weight: 3, suggestion: 'ä¸ä»…æŒ‰é’®ï¼Œåˆ—è¡¨é¡¹ã€å¡ç‰‡ç‚¹å‡»æ—¶ä¹Ÿåº”æœ‰å˜ç°æˆ–ç¼©æ”¾åé¦ˆã€‚ç»™ç”¨æˆ·â€œæˆ‘ç‚¹åˆ°äº†â€çš„ä¿¡å¿ƒã€‚' },
                    ]
                },
                {
                    id: 'ui_dev',
                    title: 'ğŸ“¦ UI - äº¤ä»˜ä¸å·¥ç¨‹åŒ– (10åˆ†)',
                    description: 'åˆ‡å›¾ã€å‘½åä¸èµ„æº',
                    items: [
                        { id: 'u16', text: 'åˆ‡å›¾èµ„æºè§„èŒƒ', weight: 4, suggestion: 'åˆ‡å›¾å°ºå¯¸å¿…é¡»æ˜¯å¶æ•°ã€‚èƒŒæ™¯é€æ˜åˆ‡å›¾éœ€ç•™å‡ºå®‰å…¨è¾¹è·ã€‚å‘½åä½¿ç”¨è‹±æ–‡å°å†™+ä¸‹åˆ’çº¿ (ic_home_active.png)ã€‚' },
                        { id: 'u17', text: 'å›¾ç‰‡å‹ç¼©ä¸æ ¼å¼', weight: 3, suggestion: 'å¤§å›¾ç”¨ WebP/JPGï¼Œé€æ˜å›¾ç”¨ PNG/SVGã€‚ç¡®ä¿èµ„æºå·²å‹ç¼©ï¼Œä¸å½±å“åŠ è½½é€Ÿåº¦ã€‚' },
                        { id: 'u18', text: 'è®¾è®¡ç¨¿å›¾å±‚æ¸…ç†', weight: 3, suggestion: 'äº¤ä»˜ç»™å¼€å‘çš„ç¨¿ä»¶ï¼Œéœ€åˆ é™¤éšè—å›¾å±‚ã€åºŸå¼ƒç”»æ¿ã€‚å›¾å±‚ç¼–ç»„æ¸…æ™°ï¼Œæ–¹ä¾¿å¼€å‘æŸ¥çœ‹å±æ€§ã€‚' },
                    ]
                },

                // ================= UX äº¤äº’ä½“éªŒ (50åˆ†) =================
                {
                    section: 'UX',
                    id: 'ux_input',
                    title: 'ğŸ‘† UX - è¾“å…¥ä¸è¡¨å• (10åˆ†)',
                    description: 'é”®ç›˜ã€æ ¡éªŒä¸æ“ä½œä¾¿åˆ©æ€§',
                    items: [
                        { id: 'i1', text: 'é”®ç›˜ç±»å‹é€‚é…', weight: 3, suggestion: 'æ‰‹æœºå·->æ•°å­—é”®ç›˜ï¼›é‚®ç®±->è‹±æ–‡é”®ç›˜ï¼›æœç´¢->é”®ç›˜å³ä¸‹è§’æ˜¾ç¤ºâ€œæœç´¢â€è€Œéâ€œæ¢è¡Œâ€ã€‚' },
                        { id: 'i2', text: 'è¾“å…¥æ ¼å¼åŒ–', weight: 2, suggestion: 'è¾“å…¥æ‰‹æœºå·/é“¶è¡Œå¡æ—¶ï¼Œè‡ªåŠ¨æ·»åŠ ç©ºæ ¼åˆ†éš” (3-4-4)ã€‚æ”¯æŒä¸€é”®æ¸…é™¤æŒ‰é’®ã€‚' },
                        { id: 'i3', text: 'è¡¨å•æ ¡éªŒæ—¶æœº', weight: 3, suggestion: 'ä¸è¦ç”¨æˆ·åˆšæ‰“ä¸€ä¸ªå­—å°±æŠ¥é”™ã€‚é€šå¸¸åœ¨â€œå¤±å»ç„¦ç‚¹â€æˆ–â€œç‚¹å‡»æäº¤â€æ—¶æ ¡éªŒã€‚å¯†ç å¼ºåº¦å¯å®æ—¶æ ¡éªŒã€‚' },
                        { id: 'i4', text: 'é˜²é®æŒ¡ä½“éªŒ', weight: 2, suggestion: 'é”®ç›˜å¼¹èµ·æ—¶ï¼Œè¾“å…¥æ¡†å’Œå…³é”®æŒ‰é’®ï¼ˆå¦‚â€œä¸‹ä¸€æ­¥â€ï¼‰å¿…é¡»é¡¶èµ·ï¼Œä¸èƒ½è¢«é”®ç›˜é®ä½ã€‚' },
                    ]
                },
                {
                    id: 'ux_feedback',
                    title: 'ğŸ“¢ UX - åé¦ˆä¸çŠ¶æ€ (10åˆ†)',
                    description: 'Toastã€åŠ è½½ä¸ç©ºçŠ¶æ€',
                    items: [
                        { id: 'i5', text: 'åŠ è½½åé¦ˆåˆ†çº§', weight: 3, suggestion: 'å±€éƒ¨åŠ è½½ç”¨ Spinnerï¼›é¡µé¢åŠ è½½ç”¨éª¨æ¶å± (Skeleton)ï¼›è¿›åº¦æ¡ç”¨äºç¡®å®šæ—¶é•¿çš„æ“ä½œã€‚æ‹’ç»å…¨å±ç™½å±ã€‚' },
                        { id: 'i6', text: 'Toast æç¤ºé€»è¾‘', weight: 2, suggestion: 'æˆåŠŸæç¤º 1.5s æ¶ˆå¤±ï¼›é”™è¯¯æç¤ºéœ€ 3s æˆ–éœ€æ‰‹åŠ¨å…³é—­ã€‚æ–‡å­—ä¸èƒ½æŠ˜è¡Œå¤ªå¤šï¼Œå±‚çº§éœ€æœ€é«˜ã€‚' },
                        { id: 'i7', text: 'ç©ºçŠ¶æ€å¼•å¯¼', weight: 3, suggestion: 'ä¸ä»…æ˜¾ç¤ºâ€œæš‚æ— æ•°æ®â€ï¼Œæ›´è¦ç»™è§£å†³æ–¹æ¡ˆï¼šæ˜¯å»æ·»åŠ ï¼Ÿè¿˜æ˜¯é‡ç½®ç­›é€‰æ¡ä»¶ï¼Ÿè¿˜æ˜¯åˆ·æ–°è¯•è¯•ï¼Ÿ' },
                        { id: 'i8', text: 'ç‚¹å‡»çƒ­åŒºæ‰©å¤§', weight: 2, suggestion: 'ç§»åŠ¨ç«¯ 44pt åŸåˆ™ã€‚å¦‚æœå›¾æ ‡å¾ˆå°ï¼Œå¿…é¡»åœ¨ä»£ç ä¸­å¢åŠ é€æ˜ Padding æ‰©å¤§ç‚¹å‡»èŒƒå›´ã€‚' },
                    ]
                },
                {
                    id: 'ux_flow',
                    title: 'ğŸ”„ UX - æµç¨‹ä¸å¼‚å¸¸ (10åˆ†)',
                    description: 'ä¸­æ–­ã€ç½‘ç»œä¸è¿”å›é€»è¾‘',
                    items: [
                        { id: 'i9', text: 'ç½‘ç»œå¼‚å¸¸å¤„ç†', weight: 3, suggestion: 'æ–­ç½‘/è¶…æ—¶éœ€æ˜¾ç¤ºâ€œç½‘ç»œå¼€å°å·®äº†â€åŠé‡è¯•æŒ‰é’®ã€‚å›¾ç‰‡æŒ‚äº†æ˜¾ç¤ºå ä½å›¾ã€‚ä¸è¦ç›´æ¥æŠŠ 404/500 ä»£ç ä¸¢ç»™ç”¨æˆ·ã€‚' },
                        { id: 'i10', text: 'ä¸­æ–­æ¢å¤ (ä¿æ´»)', weight: 2, suggestion: 'è¡¨å•å¡«ä¸€åŠåˆ‡å‡ºå»å›å¾®ä¿¡ï¼Œå›æ¥åå†…å®¹è¿˜åœ¨å—ï¼Ÿåˆ—è¡¨ç‚¹è¿›è¯¦æƒ…å†è¿”å›ï¼Œæ»šåŠ¨ä½ç½®è¿˜åœ¨å—ï¼Ÿ' },
                        { id: 'i11', text: 'é˜²æŠ– (Debounce)', weight: 3, suggestion: 'å¼±ç½‘ä¸‹ç–¯ç‹‚ç‚¹å‡»æäº¤ï¼Œä¸åº”äº§ç”Ÿé‡å¤è®¢å•æˆ–å¼¹çª—ã€‚æŒ‰é’®ç‚¹å‡»ååº”ç«‹å³ Disable æˆ– Loadingã€‚' },
                        { id: 'i12', text: 'è¿”å›é€»è¾‘é—­ç¯', weight: 2, suggestion: 'ç‰©ç†è¿”å›é”® = é¡µé¢è¿”å›æŒ‰é’®ã€‚æ·±å±‚é¡µé¢æ˜¯å¦æœ‰â€œå›åˆ°é¦–é¡µâ€çš„å¿«é€Ÿè·¯å¾„ï¼Ÿ' },
                    ]
                },
                {
                    id: 'ux_gesture',
                    title: 'ğŸ–ï¸ UX - æ‰‹åŠ¿ä¸ç³»ç»Ÿç‰¹æ€§ (10åˆ†)',
                    description: 'ä¾§æ»‘ã€çŠ¶æ€æ ä¸æƒé™',
                    items: [
                        { id: 'i13', text: 'iOS ä¾§æ»‘è¿”å›', weight: 3, suggestion: 'æ‰€æœ‰äºŒçº§é¡µé¢å¿…é¡»æ”¯æŒå·¦ä¾§è¾¹ç¼˜å³æ»‘è¿”å›ã€‚é¿å…ä¸å·¦æ»‘åˆ é™¤æˆ–åœ°å›¾æ“ä½œå†²çªã€‚' },
                        { id: 'i14', text: 'çŠ¶æ€æ  (Status Bar)', weight: 2, suggestion: 'æµ…è‰²èƒŒæ™¯é¡µ->é»‘è‰²æ–‡å­—çŠ¶æ€æ ï¼›æ·±è‰²èƒŒæ™¯é¡µ->ç™½è‰²æ–‡å­—çŠ¶æ€æ ã€‚é¿å…çœ‹ä¸æ¸…ç”µé‡æ—¶é—´ã€‚' },
                        { id: 'i15', text: 'æƒé™ç”³è¯·æ—¶æœº', weight: 3, suggestion: 'ä¸è¦å¯åŠ¨å³ç”³è¯·ã€‚åœ¨ç”¨æˆ·ç‚¹å‡»â€œç›¸æœºâ€å›¾æ ‡æ—¶å†ç”³è¯·ç›¸æœºæƒé™ï¼Œå¹¶è§£é‡Šç”¨é€”ï¼ˆå¦‚ï¼šç”¨äºæ‹æ‘„å¤´åƒï¼‰ã€‚' },
                        { id: 'i16', text: 'åŒå‡»ä¸é•¿æŒ‰', weight: 2, suggestion: 'å›¾ç‰‡æ”¯æŒåŒæŒ‡ç¼©æ”¾/åŒå‡»æ”¾å¤§ã€‚åˆ—è¡¨é¡¹é•¿æŒ‰æ˜¯å¦æœ‰æ›´å¤šæ“ä½œï¼ˆå¦‚å¤åˆ¶/åˆ é™¤ï¼‰ï¼Ÿ' },
                    ]
                },
                {
                    id: 'ux_a11y',
                    title: 'â™¿ UX - æ— éšœç¢ä¸æ˜“ç”¨æ€§ (10åˆ†)',
                    description: 'å¯¹æ¯”åº¦ã€å­—å·ä¸è§¦æ§',
                    items: [
                        { id: 'i17', text: 'æœ€å°å­—å·é™åˆ¶', weight: 3, suggestion: 'æ­£æ–‡ä¸å°äº 14px (Web) / 12pt (App)ã€‚è¾…åŠ©æ–‡å­—ä¸å°äº 10ptã€‚ç¡®ä¿è€å¹´ç”¨æˆ·ä¹Ÿèƒ½çœ‹æ¸…ã€‚' },
                        { id: 'i18', text: 'è‰²å¼±æ¨¡å¼å…¼å®¹', weight: 3, suggestion: 'ä¸è¦ä»…ç”¨é¢œè‰²åŒºåˆ†çŠ¶æ€ï¼ˆå¦‚çº¢/ç»¿ï¼‰ï¼Œæœ€å¥½é…åˆå›¾æ ‡ï¼ˆæ‰“å‹¾/æ„Ÿå¹å·ï¼‰æˆ–æ–‡å­—è¯´æ˜ã€‚' },
                        { id: 'i19', text: 'ç³»ç»Ÿå­—ä½“ç¼©æ”¾', weight: 4, suggestion: 'å½“ç”¨æˆ·åœ¨ç³»ç»Ÿè®¾ç½®é‡Œè°ƒå¤§å­—ä½“æ—¶ï¼ŒApp ç•Œé¢æ˜¯è‡ªé€‚åº”å˜å¤§ï¼Œè¿˜æ˜¯ä¼šå¸ƒå±€é”™ä¹±ï¼Ÿï¼ˆè‡³å°‘ä¿è¯ä¸ä¹±ï¼‰ã€‚' },
                    ]
                }
            ];

            // ----------------State----------------
            const [answers, setAnswers] = useState({});
            const [expandedSections, setExpandedSections] = useState(
                checklistData.reduce((acc, curr) => ({ ...acc, [curr.id]: true }), {})
            );
            const [showReport, setShowReport] = useState(false);

            // ----------------Logic----------------
            const toggleSection = (id) => {
                setExpandedSections(prev => ({ ...prev, [id]: !prev[id] }));
            };

            const handleAnswer = (itemId, value) => {
                setAnswers(prev => ({ ...prev, [itemId]: value }));
            };

            const scores = useMemo(() => {
                let uiScore = 0;
                let uxScore = 0;
                let totalScore = 0;

                checklistData.forEach(category => {
                    category.items.forEach(item => {
                        const answer = answers[item.id];
                        let points = 0;
                        if (answer === 'pass') points = item.weight;
                        if (answer === 'partial') points = item.weight * 0.5;

                        if (category.section === 'UI') {
                            uiScore += points;
                        } else {
                            uxScore += points;
                        }
                        totalScore += points;
                    });
                });
                return { uiScore, uxScore, totalScore }; 
            }, [answers]);

            // [FIXED] Score Calculation Logic for 100 Point Scale
            const finalScore = Math.round(scores.totalScore); 
            const uiPercent = Math.round((scores.uiScore / 50) * 100); 
            const uxPercent = Math.round((scores.uxScore / 50) * 100); 

            const getGrade = (score) => {
                if (score >= 95) return { label: 'S (å®Œç¾)', color: 'text-green-600', bg: 'bg-green-100' };
                if (score >= 85) return { label: 'A (ä¼˜ç§€)', color: 'text-blue-600', bg: 'bg-blue-100' };
                if (score >= 70) return { label: 'B (åˆæ ¼)', color: 'text-yellow-600', bg: 'bg-yellow-100' };
                if (score >= 50) return { label: 'C (éœ€æ”¹è¿›)', color: 'text-orange-600', bg: 'bg-orange-100' };
                return { label: 'D (é‡æ„å§)', color: 'text-red-600', bg: 'bg-red-100' };
            };

            const generateReport = () => {
                const failedItems = [];
                const partialItems = [];

                checklistData.forEach(category => {
                    category.items.forEach(item => {
                        if (answers[item.id] === 'fail') failedItems.push(item);
                        if (answers[item.id] === 'partial') partialItems.push(item);
                    });
                });

                const grade = getGrade(finalScore);
                
                let text = `ã€UX/UI æ——èˆ°ç‰ˆèµ°æŸ¥æŠ¥å‘Šã€‘\n`;
                if(projectInfo.name) text += `é¡¹ç›®åç§°ï¼š${projectInfo.name}\n`;
                if(projectInfo.reviewer) text += `éªŒæ”¶è´Ÿè´£äººï¼š${projectInfo.reviewer}\n`;
                text += `ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString()}\n`;
                text += `---------------------------\n`;
                text += `ç»¼åˆå¾—åˆ†ï¼š${finalScore} / 100\n`;
                text += `UIè¿˜åŸåº¦ï¼š${uiPercent}% | äº¤äº’ä½“éªŒï¼š${uxPercent}%\n`;
                text += `ç»¼åˆè¯„çº§ï¼š${grade.label}\n`;
                text += `---------------------------\n`;
                
                if (failedItems.length > 0) {
                    text += `ğŸš« ä¸¥é‡é—®é¢˜ (P0 - é˜»ç¢ä¸Šçº¿):\n`;
                    failedItems.forEach(item => text += `- [${item.text}] ${item.suggestion}\n`);
                    text += `\n`;
                }

                if (partialItems.length > 0) {
                    text += `âš ï¸ å»ºè®®ä¼˜åŒ–é¡¹ (P1 - æå‡ä½“éªŒ):\n`;
                    partialItems.forEach(item => text += `- [${item.text}] ${item.suggestion}\n`);
                }

                if (failedItems.length === 0 && partialItems.length === 0 && finalScore === 100) {
                    text += `ğŸ‰ å®Œç¾ï¼è®¾è®¡è¿˜åŸç²¾å‡†ï¼Œå·¥ç¨‹è§„èŒƒä¸¥è°¨ï¼Œå»ºè®®å‘å¸ƒï¼\n`;
                }

                return text;
            };

            const downloadPDF = () => {
                const reportText = generateReport();
                // Safe HTML escaping
                const safeText = reportText.replace(/[&<>"']/g, function(m) {
                    return { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' }[m];
                });
                
                const grade = getGrade(finalScore);

                const printWindow = window.open('', '_blank');
                if (!printWindow) {
                    alert('è¯·å…è®¸å¼¹å‡ºçª—å£ä»¥ç”Ÿæˆ PDF æŠ¥å‘Š');
                    return;
                }

                printWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>UX/UI èµ°æŸ¥æŠ¥å‘Š - ${projectInfo.name || 'æœªå‘½åé¡¹ç›®'}</title>
                        <style>
                        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; padding: 40px; color: #1f2937; line-height: 1.6; max-width: 800px; margin: 0 auto; }
                        .header { border-bottom: 2px solid #4f46e5; padding-bottom: 20px; margin-bottom: 30px; display: flex; justify-content: space-between; align-items: flex-end; }
                        .title-block h1 { font-size: 26px; font-weight: 800; color: #111; margin: 0 0 5px 0; }
                        .title-block p { color: #6b7280; font-size: 14px; margin: 0; }
                        .meta-block { text-align: right; font-size: 14px; color: #4b5563; }
                        .score-card { background: #f3f4f6; border-radius: 12px; padding: 20px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border: 1px solid #e5e7eb; }
                        .score-big { font-size: 36px; font-weight: bold; color: #4f46e5; }
                        .score-label { font-size: 13px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px; }
                        .grade-badge { background: ${grade.label.includes('S') || grade.label.includes('A') ? '#dcfce7' : '#fef9c3'}; color: ${grade.label.includes('S') || grade.label.includes('A') ? '#166534' : '#854d0e'}; padding: 5px 15px; border-radius: 20px; font-weight: bold; }
                        .section-title { font-size: 16px; font-weight: bold; margin-top: 25px; margin-bottom: 10px; color: #374151; border-left: 4px solid #4f46e5; padding-left: 10px; }
                        .content-box { white-space: pre-wrap; font-family: "Menlo", "Monaco", "Courier New", monospace; font-size: 13px; color: #374151; line-height: 1.8; }
                        .footer { margin-top: 50px; font-size: 12px; color: #9ca3af; text-align: center; border-top: 1px solid #eee; padding-top: 20px; }
                        @media print {
                            body { padding: 0; }
                        }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <div class="title-block">
                                <h1>UX/UI è®¾è®¡éªŒæ”¶èµ°æŸ¥æŠ¥å‘Š</h1>
                                <p>Generated by UX/UI Walkthrough Tool V4.1</p>
                            </div>
                            <div class="meta-block">
                                <p><strong>é¡¹ç›®ï¼š</strong>${projectInfo.name || 'æœªå‘½å'}</p>
                                <p><strong>éªŒæ”¶äººï¼š</strong>${projectInfo.reviewer || 'Designer'}</p>
                                <p><strong>æ—¥æœŸï¼š</strong>${new Date().toLocaleDateString()}</p>
                            </div>
                        </div>
                        
                        <div class="score-card">
                            <div>
                                <div class="score-label">ç»¼åˆå¾—åˆ†</div>
                                <div class="score-big">${finalScore} <span style="font-size:16px; color:#9ca3af; font-weight:normal;">/ 100</span></div>
                            </div>
                            <div style="text-align:right;">
                                <div class="score-label">ç»¼åˆè¯„çº§</div>
                                <div class="grade-badge">${grade.label}</div>
                            </div>
                        </div>
                        
                        <div class="section-title">è¯¦ç»†è¯Šæ–­è®°å½•</div>
                        <div class="content-box">${safeText.split('---------------------------')[3] || safeText}</div>

                        <div class="footer">
                            æ­¤æŠ¥å‘Šç”±è‡ªåŠ¨åŒ–å·¥å…·ç”Ÿæˆï¼Œä»…ä¾›å†…éƒ¨éªŒæ”¶å‚è€ƒã€‚<br>
                            ä¼˜é€”è®¾è®¡ Â· è”ç³»æ–¹å¼ï¼š180-1879-6460
                        </div>

                        <script>
                        window.onload = function() {
                            setTimeout(function() {
                            window.print();
                            }, 500);
                        }
                        <\/script>
                    </body>
                    </html>
                `);
                printWindow.document.close();
            };

            const resetTool = () => {
                if(confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰é€‰é¡¹å—ï¼Ÿ')) {
                    setAnswers({});
                    setShowReport(false);
                }
            };

            const gradeInfo = getGrade(finalScore);
            const totalItems = checklistData.reduce((acc, curr) => acc + curr.items.length, 0);
            const isComplete = Object.keys(answers).length === totalItems;

            return (
                <div className="max-w-4xl mx-auto p-4 md:p-8 min-h-screen">
                    
                    {/* Header with Inputs */}
                    <div className="mb-8 text-center">
                        <h1 className="text-3xl font-bold text-slate-900 mb-2">UX/UI èµ°æŸ¥è®¡åˆ†å™¨ V4.1 (æœ€ç»ˆä¿®æ­£ç‰ˆ)</h1>
                        <p className="text-slate-500 mb-6">èåˆä¼˜é€”è®¾è®¡ä½“ç³»æ ‡å‡† Â· ç²¾ç¡® 100 åˆ†åˆ¶ Â· è¦†ç›–äº¤ä»˜ä¸å·¥ç¨‹åŒ–</p>
                        
                        {/* Project Info Inputs */}
                        <div className="max-w-2xl mx-auto flex flex-col sm:flex-row gap-4 bg-white p-4 rounded-xl shadow-sm border border-slate-200">
                            <div className="flex-1 flex items-center gap-2 border border-slate-200 rounded-lg px-3 py-2 focus-within:ring-2 focus-within:ring-indigo-200 transition-all">
                                <Briefcase size={18} className="text-slate-400" />
                                <input 
                                    type="text" 
                                    placeholder="è¾“å…¥é¡¹ç›®åç§° (å¦‚: ä¼˜é€”è®¾è®¡å®˜ç½‘ V2.0)" 
                                    className="w-full outline-none text-sm font-medium text-slate-700 placeholder:font-normal"
                                    value={projectInfo.name}
                                    onChange={(e) => setProjectInfo({...projectInfo, name: e.target.value})}
                                />
                            </div>
                            <div className="flex-1 flex items-center gap-2 border border-slate-200 rounded-lg px-3 py-2 focus-within:ring-2 focus-within:ring-indigo-200 transition-all">
                                <User size={18} className="text-slate-400" />
                                <input 
                                    type="text" 
                                    placeholder="è¾“å…¥éªŒæ”¶äººå§“å" 
                                    className="w-full outline-none text-sm font-medium text-slate-700 placeholder:font-normal"
                                    value={projectInfo.reviewer}
                                    onChange={(e) => setProjectInfo({...projectInfo, reviewer: e.target.value})}
                                />
                            </div>
                        </div>
                    </div>

                    {/* Sticky Score Dashboard */}
                    <div className="sticky top-0 z-20 bg-white shadow-lg rounded-xl p-4 mb-6 border border-slate-100 transition-all">
                        <div className="flex flex-col md:flex-row justify-between items-center gap-4">
                            
                            <div className="flex items-center gap-6">
                                <div>
                                    <span className="text-xs text-slate-400 uppercase tracking-wider font-semibold">ç»¼åˆå¾—åˆ†</span>
                                    <div className={`text-4xl font-bold ${gradeInfo.color}`}>{finalScore}</div>
                                </div>
                                <div className="h-10 w-px bg-slate-200 hidden md:block"></div>
                                <div className="flex gap-4 text-sm">
                                    <div className="flex flex-col">
                                        <span className="text-slate-400 text-xs uppercase">UI è§†è§‰</span>
                                        <span className="font-bold text-slate-700">{uiPercent}%</span>
                                    </div>
                                    <div className="flex flex-col">
                                        <span className="text-slate-400 text-xs uppercase">UX äº¤äº’</span>
                                        <span className="font-bold text-slate-700">{uxPercent}%</span>
                                    </div>
                                </div>
                            </div>

                            <div className={`px-5 py-2 rounded-lg font-bold text-lg flex items-center gap-2 ${gradeInfo.bg} ${gradeInfo.color}`}>
                                <Award size={20} />
                                {gradeInfo.label}
                            </div>
                        </div>
                        
                        {/* Progress Bar */}
                        <div className="w-full bg-slate-100 h-2 mt-4 rounded-full overflow-hidden">
                            <div 
                                className="bg-indigo-600 h-full transition-all duration-500 ease-out"
                                style={{ width: `${(Object.keys(answers).length / totalItems) * 100}%` }}
                            ></div>
                        </div>
                    </div>

                    {/* Checklist Sections */}
                    <div className="space-y-6 mb-10">
                        {checklistData.map((category, index) => {
                            const isNewSection = index === 0 || checklistData[index - 1].section !== category.section;
                            const sectionTitle = category.section === 'UI' ? 'UI è§†è§‰ä¸å·¥ç¨‹è¿˜åŸ (50åˆ†)' : 'UX äº¤äº’ä¸ç”¨æˆ·ä½“éªŒ (50åˆ†)';
                            const SectionIcon = category.section === 'UI' ? Palette : Fingerprint;
                            const sectionColor = category.section === 'UI' ? 'text-purple-600 bg-purple-50' : 'text-blue-600 bg-blue-50';

                            return (
                                <React.Fragment key={category.id}>
                                    {isNewSection && (
                                        <div className="flex items-center gap-3 mt-10 mb-4 px-2">
                                            <div className={`p-2 rounded-lg ${sectionColor}`}>
                                                <SectionIcon size={24} />
                                            </div>
                                            <h2 className="text-2xl font-bold text-slate-800 tracking-tight">{sectionTitle}</h2>
                                        </div>
                                    )}

                                    <div className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden group hover:border-indigo-200 transition-colors">
                                        <button 
                                            onClick={() => toggleSection(category.id)}
                                            className="w-full flex justify-between items-center p-5 bg-white hover:bg-slate-50 transition-colors"
                                        >
                                            <div className="text-left flex items-start gap-3">
                                                <div className="mt-1 text-slate-400">
                                                    {category.id.includes('layout') && <Layers size={18} />}
                                                    {category.id.includes('base') && <Palette size={18} />}
                                                    {category.id.includes('text') && <Type size={18} />}
                                                    {category.id.includes('polish') && <Zap size={18} />}
                                                    {category.id.includes('dev') && <FileJson size={18} />}
                                                    
                                                    {category.id.includes('input') && <MousePointer size={18} />}
                                                    {category.id.includes('feedback') && <AlertCircle size={18} />}
                                                    {category.id.includes('flow') && <RefreshCw size={18} />}
                                                    {category.id.includes('gesture') && <Smartphone size={18} />}
                                                    {category.id.includes('a11y') && <Eye size={18} />}
                                                </div>
                                                <div>
                                                    <h3 className="text-lg font-bold text-slate-800">
                                                        {category.title}
                                                    </h3>
                                                    <p className="text-sm text-slate-500 mt-1">{category.description}</p>
                                                </div>
                                            </div>
                                            {expandedSections[category.id] ? <ChevronUp size={20} className="text-slate-400" /> : <ChevronDown size={20} className="text-slate-400" />}
                                        </button>
                                        
                                        {expandedSections[category.id] && (
                                            <div className="p-5 pt-0 space-y-4">
                                                <div className="h-px w-full bg-slate-100 mb-4"></div>
                                                {category.items.map((item) => (
                                                    <div key={item.id} className="pb-4 last:pb-0">
                                                        <div className="flex flex-col sm:flex-row justify-between sm:items-center mb-3 gap-2">
                                                            <span className="font-medium text-slate-700 flex-1 text-base">{item.text}</span>
                                                            <span className="text-xs font-mono text-slate-500 bg-slate-100 px-2 py-1 rounded self-start sm:self-auto whitespace-nowrap border border-slate-200">æƒé‡: {item.weight}åˆ†</span>
                                                        </div>
                                                        
                                                        <div className="flex gap-2 mb-3">
                                                            <button 
                                                                onClick={() => handleAnswer(item.id, 'pass')}
                                                                className={`flex-1 py-2.5 px-3 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2 ${
                                                                    answers[item.id] === 'pass' 
                                                                        ? 'bg-green-600 text-white shadow-md ring-2 ring-green-200 scale-[1.02]' 
                                                                        : 'bg-slate-50 text-slate-600 border border-slate-200 hover:bg-green-50 hover:border-green-300 hover:text-green-700'
                                                                }`}
                                                            >
                                                                <CheckCircle size={16} /> ç¬¦åˆ
                                                            </button>
                                                            <button 
                                                                onClick={() => handleAnswer(item.id, 'partial')}
                                                                className={`flex-1 py-2.5 px-3 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2 ${
                                                                    answers[item.id] === 'partial' 
                                                                        ? 'bg-yellow-500 text-white shadow-md ring-2 ring-yellow-200 scale-[1.02]' 
                                                                        : 'bg-slate-50 text-slate-600 border border-slate-200 hover:bg-yellow-50 hover:border-yellow-300 hover:text-yellow-700'
                                                                }`}
                                                            >
                                                                <AlertTriangle size={16} /> éƒ¨åˆ†
                                                            </button>
                                                            <button 
                                                                onClick={() => handleAnswer(item.id, 'fail')}
                                                                className={`flex-1 py-2.5 px-3 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2 ${
                                                                    answers[item.id] === 'fail' 
                                                                        ? 'bg-red-500 text-white shadow-md ring-2 ring-red-200 scale-[1.02]' 
                                                                        : 'bg-slate-50 text-slate-600 border border-slate-200 hover:bg-red-50 hover:border-red-300 hover:text-red-700'
                                                                }`}
                                                            >
                                                                <XCircle size={16} /> ä¸ç¬¦
                                                            </button>
                                                        </div>
                                                        {(answers[item.id] === 'fail' || answers[item.id] === 'partial') && (
                                                            <div className="mt-2 p-3 bg-red-50 text-red-900 text-sm rounded-lg border border-red-100 flex items-start gap-2 animate-in fade-in slide-in-from-top-1 duration-200">
                                                                <AlertCircle size={16} className="mt-0.5 shrink-0 text-red-600" />
                                                                <span className="leading-relaxed"><strong>ğŸ’¡ ä¸“å®¶å»ºè®®ï¼š</strong>{item.suggestion}</span>
                                                            </div>
                                                        )}
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                </React.Fragment>
                            );
                        })}
                    </div>

                    {/* Footer Actions */}
                    <div className="flex flex-col sm:flex-row gap-4 mb-4">
                        <button 
                            onClick={resetTool}
                            className="flex-1 py-4 border border-slate-300 rounded-xl text-slate-600 font-bold hover:bg-slate-50 flex items-center justify-center gap-2 transition-colors"
                        >
                            <RefreshCw size={20} /> é‡ç½®æ‰€æœ‰
                        </button>
                        <button 
                            onClick={() => setShowReport(true)}
                            disabled={!isComplete}
                            className={`flex-1 py-4 rounded-xl font-bold text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${
                                isComplete 
                                    ? 'bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-indigo-200' 
                                    : 'bg-slate-300 cursor-not-allowed text-slate-500'
                            }`}
                        >
                            <Award size={20} /> 
                            {isComplete ? 'ç”Ÿæˆä¸“ä¸šéªŒæ”¶æŠ¥å‘Š' : `è¯·å®Œæˆæ‰€æœ‰é¡¹ (${Object.keys(answers).length}/${totalItems})`}
                        </button>
                    </div>

                    {/* Footer Info */}
                    <div className="mt-8 text-center text-slate-400 text-sm pb-12">
                        <p>Â© ä¼˜é€”è®¾è®¡ Â· UX/UI ä¸“ä¸šèµ°æŸ¥å·¥å…·</p>
                        <p className="mt-1">è”ç³»æ–¹å¼ï¼š180-1879-6460</p>
                    </div>

                    {/* Report Modal */}
                    {showReport && (
                        <div className="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4">
                            <div className="bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] flex flex-col animate-in fade-in zoom-in duration-200">
                                <div className="p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50 rounded-t-2xl">
                                    <h3 className="text-xl font-bold text-slate-800 flex items-center gap-2">
                                        <Clipboard size={20} className="text-indigo-600"/> éªŒæ”¶æŠ¥å‘Šé¢„è§ˆ
                                    </h3>
                                    <button onClick={() => setShowReport(false)} className="text-slate-400 hover:text-slate-600 bg-white p-1 rounded-full shadow-sm border border-slate-200">
                                        <XCircle size={24} />
                                    </button>
                                </div>
                                
                                <div className="p-6 overflow-y-auto font-mono text-sm leading-relaxed whitespace-pre-wrap text-slate-700 bg-slate-50 inner-shadow">
                                    {generateReport()}
                                </div>

                                <div className="p-6 border-t border-slate-100 bg-white rounded-b-2xl">
                                    <button 
                                        onClick={downloadPDF}
                                        className="w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 flex items-center justify-center gap-2 transition-transform active:scale-95"
                                    >
                                        <Download size={18} /> ä¸‹è½½æŠ¥å‘Š PDF æ–‡ä»¶
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<WalkthroughTool />);
    </script>
</body>
</html>
